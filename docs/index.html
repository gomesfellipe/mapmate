<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Make Still Image Sequences For Data Animations • mapmate</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/sandstone/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="jquery.sticky-kit.min.js"></script><script src="pkgdown.js"></script><link href="extra.css" rel="stylesheet">
<meta property="og:title" content="Make Still Image Sequences For Data Animations">
<meta property="og:description" content="mapmate is an R package for generating and saving a sequence of
    map- and globe-based plots to disk as a still image sequence intended for later use in data animation
    production.">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">mapmate</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">0.3.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fa fa-home fa-lg"></span>
     
    Home
  </a>
</li>
<li>
  <a href="articles/mapmate.html">
    <span class="fa fa-info fa-lg"></span>
     
    Introduction
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa-globe fa-lg"></span>
     
    Visual examples
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/usage_and_limitations.html">Usage &amp; limitations</a>
    </li>
    <li>
      <a href="articles/networks.html">Network maps</a>
    </li>
  </ul>
</li>
<li>
  <a href="articles/ffmpeg.html">
    <span class="fa fa-play-circle-o fa-lg"></span>
     
    ffmpeg
  </a>
</li>
<li>
  <a href="reference/index.html">
    <span class="fa fa-book fa-lg"></span>
     
    Reference
  </a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/leonawicz/mapmate">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    

    
    
<!-- README.md is generated from README.Rmd. Please edit that file -->
<div id="mapmate" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#mapmate" class="anchor"></a>mapmate <a hef="https://github.com/leonawicz/mapmate/blob/master/data-raw/mapmate.png?raw=true" _target="blank"><img src="https://github.com/leonawicz/mapmate/blob/master/inst/mapmate.png?raw=true" style="margin-bottom:5px;" width="120" align="right"></a>
</h1></div>

<p><code>mapmate</code> (map animate) is an R package for map animation. It is used to generate and save a sequence of plots to disk as a still image sequence intended for later use in data animation production.</p>
<div id="installation-and-bug-reporting" class="section level2">
<h2 class="hasAnchor">
<a href="#installation-and-bug-reporting" class="anchor"></a>Installation and bug reporting</h2>
<p>You can install snapverse from github with:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># install.packages('devtools')</span>
devtools<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/devtools/topics/install_github">install_github</a></span>(<span class="st">"leonawicz/mapmate"</span>)</code></pre></div>
<p>Please file a minimal reproducible example of any clear bug at <a href="https://github.com/leonawicz/mapmate/issues">github</a>.</p>
</div>
<div id="example-videos-based-on-mapmate" class="section level2">
<h2 class="hasAnchor">
<a href="#example-videos-based-on-mapmate" class="anchor"></a>Example videos based on mapmate</h2>
<div id="historical-and-projected-global-temperature-anomalies" class="section level3">
<h3 class="hasAnchor">
<a href="#historical-and-projected-global-temperature-anomalies" class="anchor"></a>Historical and projected global temperature anomalies</h3>
<p align="center">
<iframe src="https://www.youtube.com/embed/xhqEkyJDBho?ecver=2" width="640" height="360" frameborder="0" allowfullscreen>
</iframe>
</p>
</div>
<div id="global-uafsnap-shiny-apps-web-traffic" class="section level3">
<h3 class="hasAnchor">
<a href="#global-uafsnap-shiny-apps-web-traffic" class="anchor"></a>Global UAF/SNAP Shiny Apps web traffic</h3>
<p align="center">
<iframe src="https://www.youtube.com/embed/uQYR91qixgo?ecver=2" width="640" height="360" frameborder="0" allowfullscreen>
</iframe>
</p>
</div>
<div id="flat-map-great-circle-animation-example" class="section level3">
<h3 class="hasAnchor">
<a href="#flat-map-great-circle-animation-example" class="anchor"></a>Flat map great circle animation example</h3>
<p align="center">
<iframe src="https://www.youtube.com/embed/yoyIUMvIP3Q?ecver=2" width="640" height="360" frameborder="0" allowfullscreen>
</iframe>
</p>
</div>
</div>
<div id="introduction-and-basic-example" class="section level2">
<h2 class="hasAnchor">
<a href="#introduction-and-basic-example" class="anchor"></a>Introduction and basic example</h2>
<p>The <code>mapmate</code> package is used for map- and globe-based data animation pre-production. Specifically, <code>mapmate</code> functions are used to generate and save to disk a series of map graphics that make up a still image sequence, which can then be used in video editing and rendering software of the user’s choice. This package does not make simple animations directly within R, which can be done with packages like <code>animation</code>. <code>mapmate</code> is more specific to maps, hence the name, and particularly suited to 3D globe plots of the Earth. Functionality and fine-grain user control of inputs and outputs are limited in the current package version.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(mapmate)
<span class="kw">library</span>(dplyr)
<span class="kw">data</span>(annualtemps)
annualtemps
<span class="co">#&gt; # A tibble: 55,080 x 4</span>
<span class="co">#&gt;      lon   lat  Year     z</span>
<span class="co">#&gt;    &lt;dbl&gt; &lt;dbl&gt; &lt;int&gt; &lt;dbl&gt;</span>
<span class="co">#&gt;  1 -177.  53.7  2010  1.09</span>
<span class="co">#&gt;  2 -177.  67.0  2010  3.21</span>
<span class="co">#&gt;  3 -177.  73.7  2010  2.76</span>
<span class="co">#&gt;  4 -170   53.7  2010  0.91</span>
<span class="co">#&gt;  5 -170   60.3  2010  2.47</span>
<span class="co">#&gt;  6 -170   67.0  2010  2.73</span>
<span class="co">#&gt;  7 -163.  20.3  2010  0.19</span>
<span class="co">#&gt;  8 -163.  53.7  2010  0.79</span>
<span class="co">#&gt;  9 -163.  60.3  2010  1.43</span>
<span class="co">#&gt; 10 -163.  67.0  2010  1.28</span>
<span class="co">#&gt; # ... with 55,070 more rows</span>

<span class="kw">library</span>(RColorBrewer)
pal &lt;-<span class="st"> </span><span class="kw">rev</span>(<span class="kw">brewer.pal</span>(<span class="dv">11</span>, <span class="st">"RdYlBu"</span>))

temps &lt;-<span class="st"> </span><span class="kw">mutate</span>(annualtemps, <span class="dt">frameID =</span> Year <span class="op">-</span><span class="st"> </span><span class="kw">min</span>(Year) <span class="op">+</span><span class="st"> </span><span class="dv">1</span>)
frame1 &lt;-<span class="st"> </span><span class="kw">filter</span>(temps, frameID <span class="op">==</span><span class="st"> </span><span class="dv">1</span>)  <span class="co"># subset to first frame</span>
id &lt;-<span class="st"> "frameID"</span>

<span class="kw"><a href="reference/save_map.html">save_map</a></span>(frame1, <span class="dt">z.name =</span> <span class="st">"z"</span>, <span class="dt">id =</span> id, <span class="dt">ortho =</span> <span class="ot">FALSE</span>, <span class="dt">col =</span> pal, <span class="dt">type =</span> <span class="st">"maptiles"</span>, 
    <span class="dt">save.plot =</span> <span class="ot">FALSE</span>, <span class="dt">return.plot =</span> <span class="ot">TRUE</span>)
<span class="kw"><a href="reference/save_map.html">save_map</a></span>(frame1, <span class="dt">z.name =</span> <span class="st">"z"</span>, <span class="dt">id =</span> id, <span class="dt">col =</span> pal, <span class="dt">type =</span> <span class="st">"maptiles"</span>, <span class="dt">save.plot =</span> <span class="ot">FALSE</span>, 
    <span class="dt">return.plot =</span> <span class="ot">TRUE</span>)</code></pre></div>
<div class="figure">
<img src="README-example_plots-1.png" alt="2D flat map and 3D globe" width="700"><img src="README-example_plots-2.png" alt="2D flat map and 3D globe" width="700"><p class="caption">
2D flat map and 3D globe
</p>
</div>
<p>The above is only a very basic initial example of static 2D and 3D maps. See the <a href="https://leonawicz.github.io/mapmate/articles/mapmate.html">introduction vignette</a> for more complete and typical usage examples:</p>
<ul>
<li>Generate a data frame containing monthly map data (optionally seasonal or annual aggregate average data) in the form of an n-year moving or rolling average based on an input data frame of raw monthly data.</li>
<li>Generate a sequence of still frames of:
<ul>
<li>map data for use in a flat map animation.</li>
<li>dynamic/temporally changing map data projected onto a static globe (3D Earth)</li>
<li>static map data projected onto rotating globe</li>
<li>dynamic map data projected onto rotating globe</li>
</ul>
</li>
<li>Parallel processing examples using <code>mclapply</code>
</li>
<li>Convenient iterator wrapper function</li>
<li>Comparison of map tiles, map lines, and polygons</li>
<li>Non-map data example (time series line growth)</li>
</ul>
<p>This and other vignettes covering more examples, including network maps with great circle arcs and generating video with <code>ffmpeg</code>, can be found at the <a href="https://leonawicz.github.io/rvtable/articles/rvtable.html">mapmate</a> website.</p>
<p>Other features and functionality will be added in future package versions.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/leonawicz/mapmate">https://​github.com/​leonawicz/​mapmate</a>
</li>
<li>Report a bug at <br><a href="https://github.com/leonawicz/mapmate/issues">https://​github.com/​leonawicz/​mapmate/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Matthew Leonawicz <br><small class="roles"> Author, maintainer </small>  </li>
</ul>
</div>

      <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://travis-ci.org/leonawicz/mapmate"><img src="https://travis-ci.org/leonawicz/mapmate.svg?branch=master" alt="Travis-CI Build Status"></a></li>
<li><a href="https://ci.appveyor.com/project/leonawicz/mapmate"><img src="https://ci.appveyor.com/api/projects/status/github/leonawicz/mapmate?branch=master&amp;svg=true" alt="AppVeyor Build Status"></a></li>
<li><a href="https://codecov.io/github/leonawicz/mapmate?branch=master"><img src="https://img.shields.io/codecov/c/github/leonawicz/mapmate/master.svg" alt="Coverage Status"></a></li>
<li><a href="http://www.rdocumentation.org/packages/mapmate"><img src="http://www.rdocumentation.org/badges/version/mapmate" alt="Rdoc"></a></li>
</ul>
</div>
</div>

</div>


      <footer><div class="copyright">
  <p>Developed by Matthew Leonawicz.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  

  </body>
</html>
